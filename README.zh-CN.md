# ğŸš€ é£ä¹¦æ¶ˆæ¯é€šçŸ¥å™¨ GitHub Action

ä¸€ä¸ªè½»é‡çº§çš„ GitHub Actionï¼Œç”¨äºé€šè¿‡é£ä¹¦è‡ªå®šä¹‰æœºå™¨äººå‘é€æ„å»ºé€šçŸ¥ï¼Œæ”¯æŒå¯é€‰çš„æ¶ˆæ¯ç­¾åæ ¡éªŒï¼ˆå®‰å…¨éªŒè¯ï¼‰ã€‚

---

## ğŸ“¦ åŠŸèƒ½ç‰¹æ€§

- âœ… æ”¯æŒå‘é€æ¶ˆæ¯
- âœ… æ”¯æŒé…ç½®é£ä¹¦ Webhook åœ°å€
- âœ… æ”¯æŒå¯é€‰çš„ç­¾åæ ¡éªŒåŠŸèƒ½
- âœ… æ”¯æŒæ¶ˆæ¯ç±»å‹é€‰æ‹©
- âœ… å¯æ— ç¼é›†æˆåˆ° CI/CD æµæ°´çº¿

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. åœ¨ GitHub å·¥ä½œæµä¸­æ·»åŠ æ­¤ Action

> `type` ä¸ `message` å­—æ®µçš„å€¼è¯·æ ¹æ®å®é™…æƒ…å†µå¡«å†™ï¼Œå¯¹åº”å…³ç³»ä¸æ ¼å¼å‚è€ƒé£ä¹¦æ–‡æ¡£ï¼š`å‘é€æ¶ˆæ¯`ï¼Œ`å‘é€å¡ç‰‡`ï¼›å‘é€æ¶ˆæ¯ä¸å‘é€å¡ç‰‡å­—æ®µå·²åœ¨ä»£ç ä¸­è‡ªé€‚åº”ï¼Œç»Ÿä¸€å¡«å†™åˆ°messageä¸­å³å¯ã€‚

```yaml
- name: Notify Feishu
  uses: xavier/feishu-message-action@v1
  with:
    webhook: ${{ secrets.FEISHU_WEBHOOK }}
    type: ${{ secrets.FEISHU_TYPE }}
    secret: ${{ secrets.FEISHU_SECRET }}
    message: '{"post":{"zh_cn":{"title":"æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜","content":[[{"tag":"text","text":"ç¬¬ä¸€è¡Œ :"},{"tag":"at","user_id":"ou_xxxxxx","user_name":"tom"}],[{"tag":"text","text":"ç¬¬äºŒè¡Œ:"},{"tag":"at","user_id":"all","user_name":"æ‰€æœ‰äºº"}]]}}}'
```

---

## ğŸ›  è¾“å…¥å‚æ•°è¯´æ˜

| åç§°      | æ˜¯å¦å¿…å¡« | æè¿°               |
|---------| -------- |------------------|
| webhook | âœ… å¿…å¡«  | é£ä¹¦æœºå™¨äººçš„ Webhook åœ°å€ |
| type    | âœ… å¿…å¡«  | ç”¨äºé€‰æ‹©æ¶ˆæ¯ç±»å‹        |
| secret  | âŒ å¯é€‰  | ç”¨äºç­¾åæ ¡éªŒçš„å¯†é’¥ï¼ˆå¯é€‰ï¼‰      |
| message | âœ… å¿…å¡«  | è¦å‘é€çš„æ–‡æœ¬æ¶ˆæ¯å†…å®¹       |

---

## ğŸ“˜ å¦‚ä½•è·å–é£ä¹¦ Webhookï¼Ÿ

1. åœ¨é£ä¹¦ç¾¤èŠä¸­ç‚¹å‡»å³ä¸Šè§’ã€Œç¾¤è®¾ç½®ã€
2. æ·»åŠ ã€Œè‡ªå®šä¹‰æœºå™¨äººã€
3. è®¾ç½®å…³é”®è¯ï¼ˆå¦‚ï¼šciã€é€šçŸ¥ç­‰ï¼‰
4. å¤åˆ¶ç”Ÿæˆçš„ Webhook åœ°å€
5. ï¼ˆå¯é€‰ï¼‰å¯ç”¨ç­¾åæ ¡éªŒï¼Œå¹¶ä¿å­˜ Secret Key

---

## ğŸ§ª æœ¬åœ°æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

ä½¿ç”¨ [`act`](https://github.com/nektos/act) å·¥å…·è¿›è¡Œæœ¬åœ°è°ƒè¯•ï¼š

```bash
# é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .secrets æ–‡ä»¶
FEISHU_WEBHOOK=https://open.feishu.cn/open-apis/bot/v2/hook/xxx
FEISHU_TYPE=post
FEISHU_SECRET=your-secret-key

# æ‰§è¡Œæµ‹è¯•
act
```
